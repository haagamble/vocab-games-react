(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[23],{1200:(e,t,r)=>{"use strict";async function n(e){try{let t="/vocab-games-react",r="".concat(t,"/wordlists/").concat(e,".json");console.log("Loading word list from:",r),console.log("Base path:",t),console.log("Environment:","production");let n=await fetch(r);if(!n.ok)return console.error("Failed to load word list: ".concat(e," (").concat(n.status,")")),null;let l=(await n.json()).map(e=>({word:e[0],definition:e[1]}));return{name:e,words:l}}catch(t){return console.error("Error loading word list ".concat(e,":"),t),null}}function l(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,n=t.filter(t=>t.word!==e).map(e=>e.word).sort(()=>Math.random()-.5).slice(0,r-1);return[e,...n].sort(()=>Math.random()-.5)}function o(e){let t=[...e];for(let e=t.length-1;e>0;e--){let r=Math.floor(Math.random()*(e+1));[t[e],t[r]]=[t[r],t[e]]}return t}r.d(t,{R3:()=>o,ZU:()=>l,zb:()=>n})},1510:(e,t,r)=>{"use strict";r.d(t,{WordListProvider:()=>s,s:()=>a});var n=r(5155),l=r(2115);let o=(0,l.createContext)(void 0);function a(){let e=(0,l.useContext)(o);if(void 0===e)throw Error("useWordList must be used within a WordListProvider");return e}function s(e){let{children:t}=e,[r,a]=(0,l.useState)(null);return(0,n.jsx)(o.Provider,{value:{selectedWordList:r,setSelectedWordList:a},children:t})}},6077:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var n=r(5155),l=r(2115),o=r(6874),a=r.n(o),s=r(1510),i=r(1200),c=r(5585);let d="АБВГҒДЕЁЖЗИЙӢКЛМНООПҚРСТУӮФХҲЧҶШЪЭЮЯ",u=["КИТОБ","ДАРЁ","ОСМОН","ГУЛҲО","ШАҲР","МАКТАБ","ДӮСТ","ХОНА","ОИЛА","МОДАР","ПАДАР","БАРОР","ХОҲАР","РӮЗ","ШАБ","БАХОР","ТОБИСТОН","ТИРАМОҲ","ЗИМИСТОН"];function h(){let{selectedWordList:e}=(0,s.s)(),[t,r]=(0,l.useState)(null),[o,h]=(0,l.useState)(!0),[m,g]=(0,l.useState)(null),[x,f]=(0,l.useState)([]),[p,b]=(0,l.useState)([]),[w,v]=(0,l.useState)([]),[j,y]=(0,l.useState)([]),[N,M]=(0,l.useState)(!1),[S,k]=(0,l.useState)(!1),[C,E]=(0,l.useState)([]),[B,D]=(0,l.useState)(null),[L,P]=(0,l.useState)(0),[W,A]=(0,l.useState)(!1),T=(0,l.useRef)(null),[F,R]=(0,l.useState)(null);function _(){var e;let r;A(!1),P(0),y([]),E([]),k(!1),D(null),M(!1);let n=(null==t||null==(e=t.words)?void 0:e.map(e=>e.word||"").filter(Boolean))||[],l=(n.length>0?n:u).map(e=>(e||"").toUpperCase().trim()).filter(e=>e.length>=3&&e.length<=10&&!/\s/.test(e)),o=(function(e){let t=[...e];for(let e=t.length-1;e>0;e--){let r=Math.floor(Math.random()*(e+1));[t[e],t[r]]=[t[r],t[e]]}return t})([...l]).slice(0,Math.min(15,l.length)),a=0;do r=function(e,t){let r=Array.from({length:10},()=>Array(e).fill("")),n=[[0,1],[0,-1],[1,0],[-1,0],[1,1],[-1,-1],[1,-1],[-1,1]],l=[];for(let o of t){let t=.5>Math.random()?o:[...o].reverse().join(""),a=!1,s=0;for(;!a&&s<300;){s++;let i=n[Math.floor(Math.random()*n.length)],c=1===i[0]?e-t.length:-1===i[0]?t.length-1:e-1,d=-1===i[0]?t.length-1:0,u=1===i[1]?e-t.length:-1===i[1]?t.length-1:e-1,h=-1===i[1]?t.length-1:0,m=Math.floor(Math.random()*(c-d+1))+d,g=Math.floor(Math.random()*(u-h+1))+h;if(function(t,n,l,o){for(let a=0;a<t.length;a++){let s=n+o[0]*a,i=l+o[1]*a;if(s<0||s>=e||i<0||i>=e||r[s][i]&&r[s][i]!==t[a])return!1}return!0}(t,m,g,i)){let e=function(e,t,n,l){let o=[];for(let a=0;a<e.length;a++){let s=t+l[0]*a,i=n+l[1]*a;r[s][i]=e[a],o.push([s,i])}return o}(t,m,g,i);l.push({word:o,coords:e,placedWord:t}),a=!0}}}for(let t=0;t<e;t++)for(let n=0;n<e;n++)r[t][n]||(r[t][n]=d[Math.floor(Math.random()*d.length)]);return{grid:r,placements:l}}(10,o),a++;while(r.placements.length<o.length&&a<20);f(r.grid),v(r.placements),b(r.placements.map(e=>e.word)),y([]),P(0),A(!0)}function z(e,t){k(!0),E([[e,t]]),D(null),W||(P(0),A(!0))}function I(e,t){S&&E(r=>{if(0===r.length)return[[e,t]];let n=r[0],l=[e,t];if(1===r.length)return n[0]===e&&n[1]===t?r:(D(function(e,t){let[r,n]=e,[l,o]=t,a=e=>0===e?0:e>0?1:-1;return[a(l-r),a(o-n)]}(n,l)),[n,l]);if(B&&function(e,t,r){let[n,l]=e,[o,a]=t,[s,i]=r;if(0===s&&0===i)return n===o&&l===a;let c=0!==s?(o-n)/s:0!==i?(a-l)/i:0;return!(c<0)&&.001>Math.abs(n+c*s-o)&&.001>Math.abs(l+c*i-a)}(n,l,B)){let[r,l]=n,[o,a]=B,s=Math.max(Math.abs(e-r),Math.abs(t-l)),i=[];for(let e=0;e<=s;e++){let t=r+e*o,n=l+e*a;t>=0&&t<10&&n>=0&&n<10&&i.push([t,n])}return i}return r})}function q(){if(!S||0===C.length){k(!1),E([]),D(null);return}let e=C.map(e=>{let[t,r]=e;return x[t][r]}).join(""),t=[...e].reverse().join("");console.log("User selected:",e,"or reversed:",t),console.log("Selection coordinates:",C);let r=w.find(r=>{let n=r.placedWord||r.word,l=[...n].reverse().join(""),o=(n===e||n===t||l===e||l===t)&&!j.includes(r.word);return o&&console.log("Matched placement:",r.word,"at coords:",r.coords),o});if(r){let e=[...j,r.word];y(e),console.log("Added to found words:",r.word),e.length===p.length&&(A(!1),(null===F||L<F)&&R(L),M(!0))}else console.log("No match found for selection");k(!1),E([]),D(null)}function H(e){let t=e.touches[0],r=document.elementFromPoint(t.clientX,t.clientY);if(r&&r instanceof HTMLElement&&r.dataset.cell){let[e,t]=r.dataset.cell.split(","),n=Number(e),l=Number(t);Number.isNaN(n)||Number.isNaN(l)||I(n,l)}}function U(e){let t=Math.floor(e/60).toString().padStart(2,"0"),r=(e%60).toString().padStart(2,"0");return"".concat(t,":").concat(r)}return(0,l.useEffect)(()=>(W&&null===T.current?T.current=window.setInterval(()=>P(e=>e+1),1e3):W||null===T.current||(window.clearInterval(T.current),T.current=null),()=>{T.current&&(window.clearInterval(T.current),T.current=null)}),[W]),(0,l.useEffect)(()=>{let t=!1;return async function(){if(!e){r(null),h(!1),g(null);return}try{h(!0),g(null);let n=await (0,i.zb)(e);t||(n?r(n):g("Failed to load word list: ".concat(e)))}catch(e){t||g("Error loading word list")}finally{t||h(!1)}}(),()=>{t=!0}},[e]),(0,l.useEffect)(()=>{_()},[t]),((0,l.useEffect)(()=>{if(N&&p.length>0&&j.length===p.length){let e={ticks:200,gravity:1,spread:70,scalar:1},t=(t,r)=>{(0,c.A)(Object.assign({},e,r,{particleCount:Math.floor(400*t)}))};t(.25,{spread:26,startVelocity:55}),t(.2,{spread:60}),t(.35,{spread:100,decay:.91,scalar:1.1}),t(.1,{spread:120,startVelocity:25,decay:.92}),t(.1,{spread:120,startVelocity:45})}},[N,j.length,p.length]),e)?o?(0,n.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 flex items-center justify-center p-8",children:(0,n.jsxs)("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl p-8 text-center max-w-md",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-purple-200 border-t-purple-600 mx-auto mb-6"}),(0,n.jsxs)("p",{className:"text-gray-700 font-medium text-lg",children:["Loading ",e," word list..."]})]})}):m?(0,n.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 flex items-center justify-center p-8",children:(0,n.jsxs)("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl p-8 text-center max-w-md",children:[(0,n.jsx)("div",{className:"text-6xl mb-4",children:"❌"}),(0,n.jsx)("h1",{className:"text-3xl font-bold text-red-600 mb-4",children:"Error"}),(0,n.jsx)("p",{className:"text-gray-600 mb-6",children:m}),(0,n.jsx)(a(),{href:"/",className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-semibold py-3 px-6 rounded-xl shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-200 inline-block",children:"Go Back to Home"})]})}):(0,n.jsxs)("div",{className:"p-2 max-w-screen-sm mx-auto bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 min-h-screen",children:[(0,n.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsxs)(a(),{href:"/",className:"flex items-center text-white/90 hover:text-white font-semibold text-base sm:text-lg hover:underline transition-all duration-200",children:[(0,n.jsx)("span",{className:"mr-2",children:"←"})," Back to Home"]}),(0,n.jsx)("button",{onClick:_,className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors",children:"New Game ↻"}),(0,n.jsx)("button",{onClick:()=>A(!W),className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors",children:W?"Pause":"Resume"})]})}),(0,n.jsx)("h2",{className:"text-lg sm:text-3xl md:text-4xl font-bold text-white mb-2",children:"Word Search"}),(0,n.jsxs)("div",{className:"flex gap-6 items-center mb-2 bg-white rounded-lg p-3 shadow-sm",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-sm text-gray-600",children:"Time"}),(0,n.jsx)("div",{className:"font-mono text-lg font-bold text-gray-800",children:U(L)})]}),(0,n.jsx)("div",{children:(0,n.jsx)("div",{className:"text-sm text-gray-600",children:"Best"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-sm text-gray-600",children:"Progress"}),(0,n.jsxs)("div",{className:"font-bold text-lg text-gray-800",children:[j.length,"/",p.length]})]})]}),0===x.length?(0,n.jsx)("div",{className:"text-center py-8",children:(0,n.jsx)("div",{className:"text-gray-600",children:"Loading puzzle…"})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"grid gap-1 mx-auto mb-6 p-4 bg-white rounded-lg shadow-lg relative",style:{gridTemplateColumns:"repeat(".concat(10,", minmax(0, 1fr))"),gap:"0.15rem",touchAction:"none",maxWidth:"500px"},onMouseUp:q,onTouchEnd:q,onTouchMove:e=>e.preventDefault(),children:[x.map((e,t)=>e.map((e,r)=>{let l=C.some(e=>{let[n,l]=e;return n===t&&l===r}),o=function(e,t){for(let r of w)if(j.includes(r.word)){for(let[n,l]of r.coords)if(n===e&&l===t)return r.word}return null}(t,r);return(0,n.jsx)("div",{"data-cell":"".concat(t,",").concat(r),onMouseDown:()=>z(t,r),onMouseEnter:()=>I(t,r),onTouchStart:()=>z(t,r),onTouchMove:H,className:"\n                      aspect-square flex items-center justify-center border rounded-lg select-none font-bold cursor-pointer transition-all duration-150\n                      ".concat(o?"bg-blue-50 text-blue-800":l?"bg-yellow-100 border-yellow-400 border-4 text-gray-800 scale-110":"bg-gray-50 border-gray-200 text-gray-700 hover:bg-gray-100","\n                    "),style:{fontSize:"clamp(0.75rem, 3vw, 1.25rem)",userSelect:"none",touchAction:"none",boxShadow:l?"0 0 10px rgba(255, 193, 7, 0.5)":"none"},children:e},"".concat(t,"-").concat(r))})),(0,n.jsx)("svg",{className:"absolute top-0 left-0 w-full h-full pointer-events-none",children:w.filter(e=>j.includes(e.word)).map((e,t)=>{let r=function(e){if(0===e.coords.length)return null;let t=e.coords[0],r=e.coords[e.coords.length-1],n=document.querySelector('[data-cell="'.concat(t[0],",").concat(t[1],'"]')),l=document.querySelector('[data-cell="'.concat(r[0],",").concat(r[1],'"]'));if(!n||!l)return null;let o=n.parentElement;if(!o)return null;let a=o.getBoundingClientRect(),s=n.getBoundingClientRect(),i=l.getBoundingClientRect(),c=s.left-a.left+s.width/2,d=s.top-a.top+s.height/2,u=i.left-a.left+i.width/2,h=i.top-a.top+i.height/2,m=u-c,g=h-d,x=Math.sqrt(m*m+g*g),f=s.width,p=s.height,b=Math.max(8,Math.min(f,p)-6),w=Math.min(10,b/2);return{cx:(c+u)/2,cy:(d+h)/2,width:x+Math.max(f,p),height:b,angle:180*Math.atan2(g,m)/Math.PI,rx:w}}(e);if(!r)return null;let l=["#dc2626","#059669","#7c3aed","#ea580c","#0891b2","#be123c"],o=l[t%l.length];return(0,n.jsx)("rect",{x:r.cx-r.width/2,y:r.cy-r.height/2,width:r.width,height:r.height,rx:r.rx,ry:r.rx,transform:"rotate(".concat(r.angle," ").concat(r.cx," ").concat(r.cy,")"),fill:"none",stroke:o,strokeWidth:"3",strokeLinecap:"round",opacity:"0.8"},"rect-".concat(e.word,"-").concat(t))})})]}),(0,n.jsxs)("div",{className:"bg-white rounded-lg p-2 sm:p-4 shadow-sm",children:[(0,n.jsx)("h3",{className:"font-bold text-lg mb-1 sm:mb-3 text-gray-800",children:"Find these words:"}),(0,n.jsx)("div",{className:"flex flex-wrap gap-2",children:p.map(e=>{let t=j.includes(e),r=w.findIndex(t=>t.word===e),l=["#dc2626","#059669","#7c3aed","#ea580c","#0891b2","#be123c"],o=l[r%l.length];return(0,n.jsx)("div",{className:"\n                      px-2 py-1 border-2 rounded-lg font-medium transition-all duration-300 relative\n                      ".concat(t?"bg-blue-50 text-blue-800":"bg-gray-50 border-gray-200 text-gray-700","\n                    "),style:{borderColor:t?o:"#e5e7eb"},children:(0,n.jsx)("span",{className:t?"line-through decoration-2":"",style:{textDecorationColor:t?o:"inherit"},children:e})},e)})})]}),j.length===p.length&&p.length>0&&(0,n.jsxs)("div",{className:"mt-6 p-4 bg-gradient-to-r from-green-400 to-green-500 border-0 rounded-lg text-white font-bold text-center shadow-lg",children:[(0,n.jsx)("div",{className:"text-2xl mb-1",children:"\uD83C\uDF89 Congratulations!"}),(0,n.jsxs)("div",{children:["You found all words in ",U(L),"!"]}),F===L&&(0,n.jsx)("div",{className:"text-sm mt-1 opacity-90",children:"New best time! ⭐"})]})]})]}):(0,n.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 flex items-center justify-center p-8",children:(0,n.jsxs)("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl p-8 text-center max-w-md",children:[(0,n.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDCDA"}),(0,n.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"No Word List Selected"}),(0,n.jsx)("p",{className:"text-gray-600 mb-6",children:"Please go back and select a word list first."}),(0,n.jsx)(a(),{href:"/",className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-semibold py-3 px-6 rounded-xl shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-200 inline-block",children:"Go Back to Home"})]})})}},7240:(e,t,r)=>{Promise.resolve().then(r.bind(r,6077))}},e=>{e.O(0,[874,585,441,964,358],()=>e(e.s=7240)),_N_E=e.O()}]);