(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[342],{1200:(e,t,r)=>{"use strict";async function l(e){try{let t="/vocab-games-react",r="".concat(t,"/wordlists/").concat(e,".json");console.log("Loading word list from:",r),console.log("Base path:",t),console.log("Environment:","production");let l=await fetch(r);if(!l.ok)return console.error("Failed to load word list: ".concat(e," (").concat(l.status,")")),null;let s=(await l.json()).map(e=>({word:e[0],definition:e[1]}));return{name:e,words:s}}catch(t){return console.error("Error loading word list ".concat(e,":"),t),null}}function s(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,l=t.filter(t=>t.word!==e).map(e=>e.word).sort(()=>Math.random()-.5).slice(0,r-1);return[e,...l].sort(()=>Math.random()-.5)}function n(e){let t=[...e];for(let e=t.length-1;e>0;e--){let r=Math.floor(Math.random()*(e+1));[t[e],t[r]]=[t[r],t[e]]}return t}r.d(t,{R3:()=>n,ZU:()=>s,zb:()=>l})},1510:(e,t,r)=>{"use strict";r.d(t,{WordListProvider:()=>a,s:()=>o});var l=r(5155),s=r(2115);let n=(0,s.createContext)(void 0);function o(){let e=(0,s.useContext)(n);if(void 0===e)throw Error("useWordList must be used within a WordListProvider");return e}function a(e){let{children:t}=e,[r,o]=(0,s.useState)(null);return(0,l.jsx)(n.Provider,{value:{selectedWordList:r,setSelectedWordList:o},children:t})}},8650:(e,t,r)=>{Promise.resolve().then(r.bind(r,9296))},9296:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var l=r(5155),s=r(6874),n=r.n(s),o=r(2115),a=r(1510),i=r(1200),d=r(5585);function c(){let{selectedWordList:e}=(0,a.s)(),[t,r]=(0,o.useState)(!0),[s,c]=(0,o.useState)(null),[u,h]=(0,o.useState)(null),[x,m]=(0,o.useState)([]),[g,f]=(0,o.useState)(new Set),[b,p]=(0,o.useState)(new Set),[v,w]=(0,o.useState)("all"),[j,N]=(0,o.useState)(!0),[y,k]=(0,o.useState)(0),[S,C]=(0,o.useState)(!1),[E,D]=(0,o.useState)(!1),z=e?"flashcards-progress-".concat(e):"";(0,o.useEffect)(()=>{(async function(){if(!e)return r(!1);try{r(!0),c(null);let l=await (0,i.zb)(e);if(!l)return void c("Failed to load word list: ".concat(e));h(l);let s=l.words.map(e=>({id:"".concat(e.word,"::").concat(e.definition),word:e.word,definition:e.definition,correctCount:0,incorrectCount:0,lastResult:void 0})),n=localStorage.getItem(z);if(n){var t;let e=JSON.parse(n),r=new Map(e.cards.map(e=>[e.id,e])),l=s.map(e=>{var t;return null!=(t=r.get(e.id))?t:e});if(m(l),f(new Set(null!=(t=e.wrongIds)?t:[])),e.rightIds)p(new Set(e.rightIds));else{let t=l.filter(t=>{var r;return t.correctCount>0&&!(null!=(r=e.wrongIds)?r:[]).includes(t.id)}).map(e=>e.id);p(new Set(t))}}else m(s),f(new Set),p(new Set)}catch(e){c(e instanceof Error?e.message:"Unknown error")}finally{r(!1)}})(),k(0),C(!1),D(!1)},[e,z]),(0,o.useEffect)(()=>{if(!z)return;let e=Array.from(g),t=Array.from(b);localStorage.setItem(z,JSON.stringify({cards:x,wrongIds:e,rightIds:t}))},[x,g,b,z]);let M=(0,o.useMemo)(()=>"wrong-only"===v?x.filter(e=>g.has(e.id)):x.filter(e=>!b.has(e.id)),[x,g,b,v]),I=M[y];(0,o.useEffect)(()=>{0===M.length?0!==y&&k(0):y>=M.length&&k(0)},[M.length,y]),(0,o.useEffect)(()=>{if(0===x.length)return;let e=x.every(e=>e.correctCount>0);0===g.size&&e&&!E&&(D(!0),(0,d.A)({particleCount:200,spread:70,origin:{y:.6}}))},[g.size,E,x]);let W=()=>C(e=>!e),A=e=>{if(I){m(t=>t.map(t=>t.id===I.id?{...t,correctCount:t.correctCount+ +!!e,incorrectCount:t.incorrectCount+ +!e,lastResult:e?"correct":"incorrect"}:t)),f(t=>{let r=new Set(t);return e?r.delete(I.id):r.add(I.id),r}),p(t=>{let r=new Set(t);return e?r.add(I.id):r.delete(I.id),r}),C(!1);k("wrong-only"===v&&e?Math.min(y,Math.max(0,M.length-1)):y<M.length-1?y+1:0)}};if(!e)return(0,l.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 flex items-center justify-center p-8",children:(0,l.jsxs)("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl p-8 text-center max-w-md",children:[(0,l.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDCDA"}),(0,l.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"No Word List Selected"}),(0,l.jsx)("p",{className:"text-gray-600 mb-6",children:"Please go back and select a word list first."}),(0,l.jsx)(n(),{href:"/",className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-semibold py-3 px-6 rounded-xl shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-200 inline-block",children:"Go Back to Home"})]})});if(t)return(0,l.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 flex items-center justify-center p-8",children:(0,l.jsxs)("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl p-8 text-center max-w-md",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-purple-200 border-t-purple-600 mx-auto mb-6"}),(0,l.jsxs)("p",{className:"text-gray-700 font-medium text-lg",children:["Loading ",e," flashcards..."]})]})});if(s)return(0,l.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 flex items-center justify-center p-8",children:(0,l.jsxs)("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl p-8 text-center max-w-md",children:[(0,l.jsx)("div",{className:"text-6xl mb-4",children:"❌"}),(0,l.jsx)("h1",{className:"text-3xl font-bold text-red-600 mb-4",children:"Error"}),(0,l.jsx)("p",{className:"text-gray-600 mb-6",children:s}),(0,l.jsx)(n(),{href:"/",className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-semibold py-3 px-6 rounded-xl shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-200 inline-block",children:"Go Back to Home"})]})});let F=x.length,L=g.size,P=F>0?Math.round(b.size/F*100):0,_=F>0&&0===L&&x.every(e=>e.correctCount>0);return(0,l.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 p-4 sm:p-8",children:(0,l.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,l.jsxs)(n(),{href:"/",className:"flex items-center text-white/90 hover:text-white font-semibold text-lg hover:underline transition-all duration-200",children:[(0,l.jsx)("span",{className:"mr-2",children:"←"})," Back to Home"]}),(0,l.jsx)("div",{className:"flex items-center gap-3 text-white/90",children:(0,l.jsx)("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg px-3 py-1 text-sm font-medium",children:"".concat(b.size," / ").concat(F)})})]}),(0,l.jsx)("div",{className:"mb-6",children:(0,l.jsx)("div",{className:"bg-white/20 rounded-full h-2 overflow-hidden",children:(0,l.jsx)("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-400 h-full transition-all duration-500 ease-out",style:{width:"".concat(P,"%")}})})}),(0,l.jsx)("div",{className:"mb-8",children:(0,l.jsx)("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-lg p-4",children:(0,l.jsxs)("div",{className:"flex flex-wrap justify-center gap-4 mb-4",children:[(0,l.jsxs)("select",{value:v,onChange:e=>{w(e.target.value),C(!1)},className:"px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-800",children:[(0,l.jsxs)("option",{value:"all",children:["All Cards (",F,")"]}),(0,l.jsxs)("option",{value:"wrong-only",disabled:0===L,children:["Wrong Only (",L,")"]})]}),(0,l.jsxs)("select",{value:j?"tajik":"english",onChange:e=>N("tajik"===e.target.value),className:"px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-800",children:[(0,l.jsx)("option",{value:"tajik",children:"Tajik → English"}),(0,l.jsx)("option",{value:"english",children:"English → Tajik"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,l.jsxs)("div",{className:"text-green-700 font-semibold bg-green-50 rounded px-2 py-1",children:["Correct: ",b.size]}),(0,l.jsxs)("div",{className:"text-red-700 font-semibold bg-red-50 rounded px-2 py-1",children:["Wrong: ",g.size]})]})]})})}),(0,l.jsxs)("div",{className:"text-center mb-8",children:[(0,l.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",children:"Flashcards"}),(0,l.jsx)("p",{className:"text-white/80 text-lg",children:"Flip the card, then mark if you were right or wrong. Practice your wrong list until it is empty."})]}),(0,l.jsx)("div",{className:"mb-8",children:(0,l.jsx)("div",{className:"relative mx-auto max-w-2xl",children:(0,l.jsxs)("div",{onClick:W,className:"bg-white rounded-3xl shadow-2xl cursor-pointer transition-all duration-300 hover:shadow-3xl transform hover:-translate-y-1 min-h-[360px] flex flex-col",children:[(0,l.jsx)("div",{className:"p-6 border-b border-gray-100",children:(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("div",{className:"px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:j?"Тоҷикӣ → English":"English → Тоҷикӣ"}),(0,l.jsxs)("div",{className:"text-gray-500 text-sm",children:["Wrong list: ",L]})]})}),(0,l.jsx)("div",{className:"flex-1 flex items-center justify-center p-8",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-6xl mb-6",children:S?"\uD83D\uDD04":"❓"}),(0,l.jsx)("div",{className:"text-3xl sm:text-4xl font-bold text-gray-800 mb-4",children:I?S?j?I.definition:I.word:j?I.word:I.definition:"No cards"}),(0,l.jsx)("div",{className:"text-lg text-gray-500 mb-6",children:S?j?"English":"Tajik":j?"Tajik":"English"}),!S&&(0,l.jsx)("div",{className:"text-gray-400 text-sm",children:"Click to reveal answer"})]})})]})})}),(0,l.jsx)("div",{className:"flex justify-center gap-4",children:S?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{onClick:()=>A(!1),className:"bg-gradient-to-r from-red-500 to-pink-500 hover:from-red-600 hover:to-pink-600 text-white font-semibold py-4 px-8 rounded-2xl shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-200 text-lg",children:"❌ Wrong"}),(0,l.jsx)("button",{onClick:()=>A(!0),className:"bg-gradient-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600 text-white font-semibold py-4 px-8 rounded-2xl shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-200 text-lg",children:"✅ Right"})]}):(0,l.jsx)("button",{onClick:W,className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-semibold py-4 px-8 rounded-2xl shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-200 text-lg",children:"\uD83D\uDD0D Show Answer"})}),_&&(0,l.jsxs)("div",{className:"mt-8 p-4 bg-gradient-to-r from-green-400 to-green-500 border-0 rounded-lg text-white font-bold text-center shadow-lg",children:[(0,l.jsx)("div",{className:"text-2xl mb-1",children:"\uD83C\uDF89 Awesome!"}),(0,l.jsx)("div",{children:"You’ve answered all words correctly."})]})]})})}}},e=>{e.O(0,[874,585,441,964,358],()=>e(e.s=8650)),_N_E=e.O()}]);